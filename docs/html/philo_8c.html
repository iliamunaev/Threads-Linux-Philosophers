<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Philosopher Dining Problem Solution: philo/philo.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Philosopher Dining Problem Solution
   &#160;<span id="projectnumber">1.0</span>
   </div>
   <div id="projectbrief">A multi-threaded philosopher dining problem simulation.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_1334dbce90460f198b5d33d651f8d39f.html">philo</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">philo.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Entry point for the philosopher dining simulation.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="philo_8h_source.html">philo.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for philo.c:</div>
<div class="dyncontent">
<div class="center"><img src="philo_8c__incl.png" border="0" usemap="#aphilo_2philo_8c" alt=""/></div>
<map name="aphilo_2philo_8c" id="aphilo_2philo_8c">
<area shape="rect" title="Entry point for the philosopher dining simulation." alt="" coords="287,5,389,32"/>
<area shape="rect" href="philo_8h.html" title="Header file for the philosopher simulation." alt="" coords="305,80,371,107"/>
<area shape="rect" title=" " alt="" coords="5,155,89,181"/>
<area shape="rect" title=" " alt="" coords="114,155,181,181"/>
<area shape="rect" title=" " alt="" coords="205,155,276,181"/>
<area shape="rect" title=" " alt="" coords="301,155,375,181"/>
<area shape="rect" title=" " alt="" coords="399,155,490,181"/>
<area shape="rect" title=" " alt="" coords="515,155,585,181"/>
<area shape="rect" title=" " alt="" coords="610,155,693,181"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a61f5c99c4cf711f32a026a5cccf04ea8"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="philo_8c.html#a61f5c99c4cf711f32a026a5cccf04ea8">self_arrange</a> (<a class="el" href="philo_8h.html#a7b20ce4f97b6f0dc2e44a50c149be74d">t_philo</a> *p)</td></tr>
<tr class="memdesc:a61f5c99c4cf711f32a026a5cccf04ea8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Arranges philosophers for initial thinking before starting their routine.  <a href="philo_8c.html#a61f5c99c4cf711f32a026a5cccf04ea8">More...</a><br /></td></tr>
<tr class="separator:a61f5c99c4cf711f32a026a5cccf04ea8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a64adbf9abec0509fdfaadb66bd03b21a"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="philo_8c.html#a64adbf9abec0509fdfaadb66bd03b21a">repeat_routine</a> (<a class="el" href="philo_8h.html#a7b20ce4f97b6f0dc2e44a50c149be74d">t_philo</a> *p)</td></tr>
<tr class="memdesc:a64adbf9abec0509fdfaadb66bd03b21a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Executes the repeated routine of a philosopher.  <a href="philo_8c.html#a64adbf9abec0509fdfaadb66bd03b21a">More...</a><br /></td></tr>
<tr class="separator:a64adbf9abec0509fdfaadb66bd03b21a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af72c17f7593a46a8500a4a098f8e29db"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="philo_8c.html#af72c17f7593a46a8500a4a098f8e29db">process_single_philo</a> (<a class="el" href="philo_8h.html#a7b20ce4f97b6f0dc2e44a50c149be74d">t_philo</a> *p)</td></tr>
<tr class="memdesc:af72c17f7593a46a8500a4a098f8e29db"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles the special case where only one philosopher exists.  <a href="philo_8c.html#af72c17f7593a46a8500a4a098f8e29db">More...</a><br /></td></tr>
<tr class="separator:af72c17f7593a46a8500a4a098f8e29db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a285c6e6d8901ac46db3501a140a8b1e6"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="philo_8c.html#a285c6e6d8901ac46db3501a140a8b1e6">wait_all_threads</a> (<a class="el" href="philo_8h.html#a7b20ce4f97b6f0dc2e44a50c149be74d">t_philo</a> *p)</td></tr>
<tr class="memdesc:a285c6e6d8901ac46db3501a140a8b1e6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Ensures all threads start at the same simulation time.  <a href="philo_8c.html#a285c6e6d8901ac46db3501a140a8b1e6">More...</a><br /></td></tr>
<tr class="separator:a285c6e6d8901ac46db3501a140a8b1e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a087d89e4be1c6d0dc1290ed8e0850c2f"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="philo_8c.html#a087d89e4be1c6d0dc1290ed8e0850c2f">routine</a> (void *arg)</td></tr>
<tr class="memdesc:a087d89e4be1c6d0dc1290ed8e0850c2f"><td class="mdescLeft">&#160;</td><td class="mdescRight">The main routine executed by each philosopher thread.  <a href="philo_8c.html#a087d89e4be1c6d0dc1290ed8e0850c2f">More...</a><br /></td></tr>
<tr class="separator:a087d89e4be1c6d0dc1290ed8e0850c2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Entry point for the philosopher dining simulation. </p>
<p>Philosopher routine implementation for the dining philosophers simulation.</p>
<p>This file contains the <code>main</code> function, which initializes the environment, validates arguments, starts necessary threads, and manages cleanup.</p>
<p>This file contains the core logic executed by each philosopher thread, including actions such as thinking, eating, sleeping, and handling forks. It also manages synchronization mechanisms to avoid race conditions and deadlocks. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="af72c17f7593a46a8500a4a098f8e29db"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af72c17f7593a46a8500a4a098f8e29db">&#9670;&nbsp;</a></span>process_single_philo()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void process_single_philo </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="philo_8h.html#a7b20ce4f97b6f0dc2e44a50c149be74d">t_philo</a> *&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Handles the special case where only one philosopher exists. </p>
<p>A single philosopher picks up a fork and is unable to eat, leading to starvation. This function ensures that the philosopher "dies" after the defined <code>die_time</code>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>Pointer to the philosopher structure. </td></tr>
  </table>
  </dd>
</dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="philo_8c_af72c17f7593a46a8500a4a098f8e29db_cgraph.png" border="0" usemap="#aphilo_8c_af72c17f7593a46a8500a4a098f8e29db_cgraph" alt=""/></div>
<map name="aphilo_8c_af72c17f7593a46a8500a4a098f8e29db_cgraph" id="aphilo_8c_af72c17f7593a46a8500a4a098f8e29db_cgraph">
<area shape="rect" title="Handles the special case where only one philosopher exists." alt="" coords="5,31,163,57"/>
<area shape="rect" href="philo_8h.html#ae51dd4fc3fe21daaa28879e774a52833" title="Sleeps for a precise duration in milliseconds." alt="" coords="211,5,321,32"/>
<area shape="rect" href="log__flusher_8c.html#a134bedd0c5ba56a2cedfe08d66b7a759" title="Logs the current status of a philosopher." alt="" coords="217,56,315,83"/>
<area shape="rect" href="philo__routin_8c.html#a40dac01cf9140968dccc6a4edfb08e27" title="Retrieves the current timestamp in milliseconds." alt="" coords="386,5,466,32"/>
<area shape="rect" href="error__utils_8c.html#ac464205a2d39d701dd87e25f351980c4" title="Prints an error message to standard output." alt="" coords="531,31,621,57"/>
<area shape="rect" href="philo_8h.html#abbb8c6c4ed85d892e7f1509f65f5768a" title="Computes the length of a string." alt="" coords="669,31,744,57"/>
<area shape="rect" href="log__flusher_8c.html#a47c9fb0ba5f1b0d1ffb329602ae847bd" title="Adds a log entry to the log buffer." alt="" coords="369,107,483,133"/>
<area shape="rect" href="philo_8h.html#a40dac01cf9140968dccc6a4edfb08e27" title="Retrieves the current timestamp in milliseconds." alt="" coords="386,56,466,83"/>
<area shape="rect" href="philo_8h.html#a361b0d5886b51ad82392851bb3b98cca" title="Copies up to n characters from the source string to the destination buffer." alt="" coords="533,107,619,133"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="philo_8c_af72c17f7593a46a8500a4a098f8e29db_icgraph.png" border="0" usemap="#aphilo_8c_af72c17f7593a46a8500a4a098f8e29db_icgraph" alt=""/></div>
<map name="aphilo_8c_af72c17f7593a46a8500a4a098f8e29db_icgraph" id="aphilo_8c_af72c17f7593a46a8500a4a098f8e29db_icgraph">
<area shape="rect" title="Handles the special case where only one philosopher exists." alt="" coords="575,13,732,39"/>
<area shape="rect" href="philo_8c.html#a087d89e4be1c6d0dc1290ed8e0850c2f" title="The main routine executed by each philosopher thread." alt="" coords="459,13,527,39"/>
<area shape="rect" href="start__threads_8c.html#ae6abcd162d83cbd5214c878cd49fb860" title="Creates philosopher threads." alt="" coords="264,5,411,47"/>
<area shape="rect" href="philo_8h.html#a30b9a1e82530e29907d93c71d86c1651" title="Starts all necessary threads for the simulation." alt="" coords="108,13,216,39"/>
<area shape="rect" href="main_8c.html#a0c99d968a34e803d378692bde2e3f18f" title="Main function to initialize and start the philosopher simulation." alt="" coords="5,13,60,39"/>
</map>
</div>

</div>
</div>
<a id="a64adbf9abec0509fdfaadb66bd03b21a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a64adbf9abec0509fdfaadb66bd03b21a">&#9670;&nbsp;</a></span>repeat_routine()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void repeat_routine </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="philo_8h.html#a7b20ce4f97b6f0dc2e44a50c149be74d">t_philo</a> *&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Executes the repeated routine of a philosopher. </p>
<p>The routine consists of:</p><ul>
<li>Taking forks</li>
<li>Eating (updates last meal time and meal count)</li>
<li>Sleeping</li>
<li>Thinking before repeating the process.</li>
</ul>
<p>Thread safety:</p><ul>
<li>Uses <code>meal_mutex</code> to safely update the last meal time and meal count.</li>
<li>Uses mutex locks when taking and releasing forks to prevent race conditions.</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>Pointer to the philosopher structure. </td></tr>
  </table>
  </dd>
</dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="philo_8c_a64adbf9abec0509fdfaadb66bd03b21a_cgraph.png" border="0" usemap="#aphilo_8c_a64adbf9abec0509fdfaadb66bd03b21a_cgraph" alt=""/></div>
<map name="aphilo_8c_a64adbf9abec0509fdfaadb66bd03b21a_cgraph" id="aphilo_8c_a64adbf9abec0509fdfaadb66bd03b21a_cgraph">
<area shape="rect" title="Executes the repeated routine of a philosopher." alt="" coords="5,107,123,133"/>
<area shape="rect" href="philo_8h.html#a40dac01cf9140968dccc6a4edfb08e27" title="Retrieves the current timestamp in milliseconds." alt="" coords="493,56,573,83"/>
<area shape="rect" href="philo_8h.html#ae51dd4fc3fe21daaa28879e774a52833" title="Sleeps for a precise duration in milliseconds." alt="" coords="171,5,281,32"/>
<area shape="rect" href="log__flusher_8c.html#a134bedd0c5ba56a2cedfe08d66b7a759" title="Logs the current status of a philosopher." alt="" coords="329,107,428,133"/>
<area shape="rect" href="philo_8h.html#ac7760405aaec12dccf7df5fae632536b" title="Handles the action of a philosopher releasing both forks after eating." alt="" coords="185,208,267,235"/>
<area shape="rect" href="philo_8h.html#a5f9fc9ac5b5238dc4c5f32be8fa570dc" title="Handles the action of a philosopher taking both forks before eating." alt="" coords="181,157,271,184"/>
<area shape="rect" href="error__utils_8c.html#ac464205a2d39d701dd87e25f351980c4" title="Prints an error message to standard output." alt="" coords="637,31,728,57"/>
<area shape="rect" href="philo_8h.html#abbb8c6c4ed85d892e7f1509f65f5768a" title="Computes the length of a string." alt="" coords="776,31,851,57"/>
<area shape="rect" href="philo__routin_8c.html#a40dac01cf9140968dccc6a4edfb08e27" title="Retrieves the current timestamp in milliseconds." alt="" coords="339,5,419,32"/>
<area shape="rect" href="log__flusher_8c.html#a47c9fb0ba5f1b0d1ffb329602ae847bd" title="Adds a log entry to the log buffer." alt="" coords="476,107,589,133"/>
<area shape="rect" href="philo_8h.html#a361b0d5886b51ad82392851bb3b98cca" title="Copies up to n characters from the source string to the destination buffer." alt="" coords="639,107,726,133"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="philo_8c_a64adbf9abec0509fdfaadb66bd03b21a_icgraph.png" border="0" usemap="#aphilo_8c_a64adbf9abec0509fdfaadb66bd03b21a_icgraph" alt=""/></div>
<map name="aphilo_8c_a64adbf9abec0509fdfaadb66bd03b21a_icgraph" id="aphilo_8c_a64adbf9abec0509fdfaadb66bd03b21a_icgraph">
<area shape="rect" title="Executes the repeated routine of a philosopher." alt="" coords="575,13,692,39"/>
<area shape="rect" href="philo_8c.html#a087d89e4be1c6d0dc1290ed8e0850c2f" title="The main routine executed by each philosopher thread." alt="" coords="459,13,527,39"/>
<area shape="rect" href="start__threads_8c.html#ae6abcd162d83cbd5214c878cd49fb860" title="Creates philosopher threads." alt="" coords="264,5,411,47"/>
<area shape="rect" href="philo_8h.html#a30b9a1e82530e29907d93c71d86c1651" title="Starts all necessary threads for the simulation." alt="" coords="108,13,216,39"/>
<area shape="rect" href="main_8c.html#a0c99d968a34e803d378692bde2e3f18f" title="Main function to initialize and start the philosopher simulation." alt="" coords="5,13,60,39"/>
</map>
</div>

</div>
</div>
<a id="a087d89e4be1c6d0dc1290ed8e0850c2f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a087d89e4be1c6d0dc1290ed8e0850c2f">&#9670;&nbsp;</a></span>routine()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* routine </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The main routine executed by each philosopher thread. </p>
<p>This function manages a philosopher’s lifecycle, ensuring synchronization and termination conditions are met. It follows these steps:</p>
<ul>
<li>Waits for all threads to start simultaneously.</li>
<li>Handles the special case for a single philosopher.</li>
<li>Arranges initial thinking order to reduce contention.</li>
<li>Enters a loop where the philosopher eats, sleeps, and thinks.</li>
<li>Checks termination conditions (death or meal limit).</li>
</ul>
<p>Thread safety:</p><ul>
<li>Uses <code>end_mutex</code> to check and update the simulation termination state.</li>
<li>Uses <code>meal_mutex</code> to track meals and last meal timestamps.</li>
<li>Uses <code>start_mutex</code> to synchronize all threads' starting time.</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">arg</td><td>Pointer to the philosopher structure (<code>t_philo</code>). </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>NULL when the philosopher exits. </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="philo_8c_a087d89e4be1c6d0dc1290ed8e0850c2f_cgraph.png" border="0" usemap="#aphilo_8c_a087d89e4be1c6d0dc1290ed8e0850c2f_cgraph" alt=""/></div>
<map name="aphilo_8c_a087d89e4be1c6d0dc1290ed8e0850c2f_cgraph" id="aphilo_8c_a087d89e4be1c6d0dc1290ed8e0850c2f_cgraph">
<area shape="rect" title="The main routine executed by each philosopher thread." alt="" coords="5,134,73,161"/>
<area shape="rect" href="philo_8c.html#af72c17f7593a46a8500a4a098f8e29db" title="Handles the special case where only one philosopher exists." alt="" coords="121,33,279,59"/>
<area shape="rect" href="philo_8c.html#a64adbf9abec0509fdfaadb66bd03b21a" title="Executes the repeated routine of a philosopher." alt="" coords="141,159,259,186"/>
<area shape="rect" href="philo_8c.html#a61f5c99c4cf711f32a026a5cccf04ea8" title="Arranges philosophers for initial thinking before starting their routine." alt="" coords="149,83,251,110"/>
<area shape="rect" href="philo_8c.html#a285c6e6d8901ac46db3501a140a8b1e6" title="Ensures all threads start at the same simulation time." alt="" coords="485,311,615,338"/>
<area shape="rect" href="philo_8h.html#ae51dd4fc3fe21daaa28879e774a52833" title="Sleeps for a precise duration in milliseconds." alt="" coords="327,33,437,59"/>
<area shape="rect" href="log__flusher_8c.html#a134bedd0c5ba56a2cedfe08d66b7a759" title="Logs the current status of a philosopher." alt="" coords="501,134,599,161"/>
<area shape="rect" href="philo__routin_8c.html#a40dac01cf9140968dccc6a4edfb08e27" title="Retrieves the current timestamp in milliseconds." alt="" coords="679,65,759,91"/>
<area shape="rect" href="error__utils_8c.html#ac464205a2d39d701dd87e25f351980c4" title="Prints an error message to standard output." alt="" coords="824,71,915,98"/>
<area shape="rect" href="philo_8h.html#abbb8c6c4ed85d892e7f1509f65f5768a" title="Computes the length of a string." alt="" coords="963,71,1037,98"/>
<area shape="rect" href="log__flusher_8c.html#a47c9fb0ba5f1b0d1ffb329602ae847bd" title="Adds a log entry to the log buffer." alt="" coords="663,134,776,161"/>
<area shape="rect" href="philo_8h.html#a40dac01cf9140968dccc6a4edfb08e27" title="Retrieves the current timestamp in milliseconds." alt="" coords="679,210,759,237"/>
<area shape="rect" href="philo_8h.html#a361b0d5886b51ad82392851bb3b98cca" title="Copies up to n characters from the source string to the destination buffer." alt="" coords="826,134,913,161"/>
<area shape="rect" href="philo_8h.html#ac7760405aaec12dccf7df5fae632536b" title="Handles the action of a philosopher releasing both forks after eating." alt="" coords="341,286,423,313"/>
<area shape="rect" href="philo_8h.html#a5f9fc9ac5b5238dc4c5f32be8fa570dc" title="Handles the action of a philosopher taking both forks before eating." alt="" coords="337,185,427,211"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="philo_8c_a087d89e4be1c6d0dc1290ed8e0850c2f_icgraph.png" border="0" usemap="#aphilo_8c_a087d89e4be1c6d0dc1290ed8e0850c2f_icgraph" alt=""/></div>
<map name="aphilo_8c_a087d89e4be1c6d0dc1290ed8e0850c2f_icgraph" id="aphilo_8c_a087d89e4be1c6d0dc1290ed8e0850c2f_icgraph">
<area shape="rect" title="The main routine executed by each philosopher thread." alt="" coords="459,13,527,39"/>
<area shape="rect" href="start__threads_8c.html#ae6abcd162d83cbd5214c878cd49fb860" title="Creates philosopher threads." alt="" coords="264,5,411,47"/>
<area shape="rect" href="philo_8h.html#a30b9a1e82530e29907d93c71d86c1651" title="Starts all necessary threads for the simulation." alt="" coords="108,13,216,39"/>
<area shape="rect" href="main_8c.html#a0c99d968a34e803d378692bde2e3f18f" title="Main function to initialize and start the philosopher simulation." alt="" coords="5,13,60,39"/>
</map>
</div>

</div>
</div>
<a id="a61f5c99c4cf711f32a026a5cccf04ea8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a61f5c99c4cf711f32a026a5cccf04ea8">&#9670;&nbsp;</a></span>self_arrange()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void self_arrange </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="philo_8h.html#a7b20ce4f97b6f0dc2e44a50c149be74d">t_philo</a> *&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Arranges philosophers for initial thinking before starting their routine. </p>
<p>This function staggers philosopher actions to reduce contention when acquiring forks, improving simulation efficiency.</p>
<ul>
<li>The first philosopher (ID 0) waits longer to start.</li>
<li>Odd-indexed philosophers start thinking before picking up forks.</li>
<li>Even-indexed philosophers also stagger their thinking phase.</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>Pointer to the philosopher structure. </td></tr>
  </table>
  </dd>
</dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="philo_8c_a61f5c99c4cf711f32a026a5cccf04ea8_cgraph.png" border="0" usemap="#aphilo_8c_a61f5c99c4cf711f32a026a5cccf04ea8_cgraph" alt=""/></div>
<map name="aphilo_8c_a61f5c99c4cf711f32a026a5cccf04ea8_cgraph" id="aphilo_8c_a61f5c99c4cf711f32a026a5cccf04ea8_cgraph">
<area shape="rect" title="Arranges philosophers for initial thinking before starting their routine." alt="" coords="5,31,108,57"/>
<area shape="rect" href="philo_8h.html#ae51dd4fc3fe21daaa28879e774a52833" title="Sleeps for a precise duration in milliseconds." alt="" coords="156,5,267,32"/>
<area shape="rect" href="log__flusher_8c.html#a134bedd0c5ba56a2cedfe08d66b7a759" title="Logs the current status of a philosopher." alt="" coords="162,56,261,83"/>
<area shape="rect" href="philo__routin_8c.html#a40dac01cf9140968dccc6a4edfb08e27" title="Retrieves the current timestamp in milliseconds." alt="" coords="331,5,411,32"/>
<area shape="rect" href="error__utils_8c.html#ac464205a2d39d701dd87e25f351980c4" title="Prints an error message to standard output." alt="" coords="476,31,567,57"/>
<area shape="rect" href="philo_8h.html#abbb8c6c4ed85d892e7f1509f65f5768a" title="Computes the length of a string." alt="" coords="615,31,689,57"/>
<area shape="rect" href="log__flusher_8c.html#a47c9fb0ba5f1b0d1ffb329602ae847bd" title="Adds a log entry to the log buffer." alt="" coords="315,107,428,133"/>
<area shape="rect" href="philo_8h.html#a40dac01cf9140968dccc6a4edfb08e27" title="Retrieves the current timestamp in milliseconds." alt="" coords="331,56,411,83"/>
<area shape="rect" href="philo_8h.html#a361b0d5886b51ad82392851bb3b98cca" title="Copies up to n characters from the source string to the destination buffer." alt="" coords="478,107,565,133"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="philo_8c_a61f5c99c4cf711f32a026a5cccf04ea8_icgraph.png" border="0" usemap="#aphilo_8c_a61f5c99c4cf711f32a026a5cccf04ea8_icgraph" alt=""/></div>
<map name="aphilo_8c_a61f5c99c4cf711f32a026a5cccf04ea8_icgraph" id="aphilo_8c_a61f5c99c4cf711f32a026a5cccf04ea8_icgraph">
<area shape="rect" title="Arranges philosophers for initial thinking before starting their routine." alt="" coords="575,13,677,39"/>
<area shape="rect" href="philo_8c.html#a087d89e4be1c6d0dc1290ed8e0850c2f" title="The main routine executed by each philosopher thread." alt="" coords="459,13,527,39"/>
<area shape="rect" href="start__threads_8c.html#ae6abcd162d83cbd5214c878cd49fb860" title="Creates philosopher threads." alt="" coords="264,5,411,47"/>
<area shape="rect" href="philo_8h.html#a30b9a1e82530e29907d93c71d86c1651" title="Starts all necessary threads for the simulation." alt="" coords="108,13,216,39"/>
<area shape="rect" href="main_8c.html#a0c99d968a34e803d378692bde2e3f18f" title="Main function to initialize and start the philosopher simulation." alt="" coords="5,13,60,39"/>
</map>
</div>

</div>
</div>
<a id="a285c6e6d8901ac46db3501a140a8b1e6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a285c6e6d8901ac46db3501a140a8b1e6">&#9670;&nbsp;</a></span>wait_all_threads()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void wait_all_threads </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="philo_8h.html#a7b20ce4f97b6f0dc2e44a50c149be74d">t_philo</a> *&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Ensures all threads start at the same simulation time. </p>
<p>This function makes philosophers wait until the global <code>start_time</code> is reached before beginning execution.</p>
<p>Thread safety:</p><ul>
<li>Uses <code>start_mutex</code> to synchronize all philosophers' starting point.</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>Pointer to the philosopher structure. </td></tr>
  </table>
  </dd>
</dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="philo_8c_a285c6e6d8901ac46db3501a140a8b1e6_cgraph.png" border="0" usemap="#aphilo_8c_a285c6e6d8901ac46db3501a140a8b1e6_cgraph" alt=""/></div>
<map name="aphilo_8c_a285c6e6d8901ac46db3501a140a8b1e6_cgraph" id="aphilo_8c_a285c6e6d8901ac46db3501a140a8b1e6_cgraph">
<area shape="rect" title="Ensures all threads start at the same simulation time." alt="" coords="5,5,135,32"/>
<area shape="rect" href="philo_8h.html#a40dac01cf9140968dccc6a4edfb08e27" title="Retrieves the current timestamp in milliseconds." alt="" coords="183,5,263,32"/>
<area shape="rect" href="error__utils_8c.html#ac464205a2d39d701dd87e25f351980c4" title="Prints an error message to standard output." alt="" coords="311,5,401,32"/>
<area shape="rect" href="philo_8h.html#abbb8c6c4ed85d892e7f1509f65f5768a" title="Computes the length of a string." alt="" coords="449,5,524,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="philo_8c_a285c6e6d8901ac46db3501a140a8b1e6_icgraph.png" border="0" usemap="#aphilo_8c_a285c6e6d8901ac46db3501a140a8b1e6_icgraph" alt=""/></div>
<map name="aphilo_8c_a285c6e6d8901ac46db3501a140a8b1e6_icgraph" id="aphilo_8c_a285c6e6d8901ac46db3501a140a8b1e6_icgraph">
<area shape="rect" title="Ensures all threads start at the same simulation time." alt="" coords="575,13,704,39"/>
<area shape="rect" href="philo_8c.html#a087d89e4be1c6d0dc1290ed8e0850c2f" title="The main routine executed by each philosopher thread." alt="" coords="459,13,527,39"/>
<area shape="rect" href="start__threads_8c.html#ae6abcd162d83cbd5214c878cd49fb860" title="Creates philosopher threads." alt="" coords="264,5,411,47"/>
<area shape="rect" href="philo_8h.html#a30b9a1e82530e29907d93c71d86c1651" title="Starts all necessary threads for the simulation." alt="" coords="108,13,216,39"/>
<area shape="rect" href="main_8c.html#a0c99d968a34e803d378692bde2e3f18f" title="Main function to initialize and start the philosopher simulation." alt="" coords="5,13,60,39"/>
</map>
</div>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
